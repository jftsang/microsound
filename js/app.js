(()=>{const e=new(window.AudioContext||window.webkitAudioContext);async function n({channel:n,pitch:t,duration:o,volume:a}){return new Promise((n=>{const c=e.createOscillator(),l=e.createGain();c.type="sine";const i=Math.pow(2,(t-53)/48);console.log(t),console.log(i),c.frequency.value=256*i,console.log(c.frequency.value),l.gain.value=a/15,c.connect(l),l.connect(e.destination),c.start(),c.stop(e.currentTime+o/20),c.onended=n}))}document.getElementById("playSound").addEventListener("click",(async()=>{const e=parseInt(document.getElementById("pitchShift").value),t=parseInt(document.getElementById("baseDuration").value),o=document.getElementById("commands").value.split("\n");for(let a=0;a<o.length;a++){const c=o[a].split(",");await Promise.all(c.map(((o,a)=>n({channel:a,pitch:parseInt(o.trim())+e,duration:t,volume:15/Math.pow(4,a)}))))}}))})();