(()=>{const e=new(window.AudioContext||window.webkitAudioContext);async function n({channel:n,pitch:t,duration:o,volume:c}){return new Promise((n=>{const a=e.createOscillator(),i=e.createGain();a.type="sine";const l=Math.pow(2,(t-53)/48);a.frequency.value=256*l,console.log(a.frequency.value),i.gain.value=c/15,a.connect(i),i.connect(e.destination),a.start(),a.stop(e.currentTime+o/100),a.onended=n}))}document.getElementById("playSound").addEventListener("click",(async()=>{const e=document.getElementById("commands").value.split("\n");for(let t=0;t<e.length;t++){const o=e[t].split(",").map(((e,t)=>n({channel:t,pitch:parseInt(e.trim())-60,duration:50,volume:15/Math.pow(3,t)})));await Promise.all(o)}}))})();